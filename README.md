# intelligent-placer
Требуется написать Intelligent Placer, который по поданной фотографии с несколькими предметами на светлой горизонтальной поверхности с многоугольником на белом листе А4 определяет, можно ли поместить эти предметы внутрь многоугольника.
Более точно, Intelligent Placer должен решить, существует ли способ разместить эти предметы в многоугольнике так, чтобы ни один из предметов не выходил за границы многоугольника и к тому же, ни один из этих предметов не накрывал бы собой другие.
# Постановка задачи
### Общие
- На вход Intelligent Placer поступает путь до фотографии (с предметами и прямоугольником)
- Программа отвечает True если предметы помещаются в многоугольник, False иначе.
- Ответ выводится в стандартный поток вывода

### Многоугольник
- Многоугольник должен быть замкнутым и выпуклым
- Границы многоугольника должны быть четко видны и нарисованы темным маркером на белом листе бумаги.

### Содержание фотографий
- Предметы и многоугольник должны быть размещены на светлой поверхности
- Предметы должны распологаться вне многоугольника, так, что они не должны пересекаться ни с друг с другом, ни с многоугольником
- Один предмет не может присутствовать на фото несколько раз

### Фотометрические
- фотографии должны быть в формате *\*.jpg*
- угол между направлением камеры и перпендикуляром к поверхности должен быть не более *10&deg;*
- фотография резкая, не смазанная


# План
1. Находим границы листа (c помощью морфологий и бинаризации Оцу, это будет максимальная по площади компонента связности)
2. Зная границы листа (bbox из regionprops) находим уже внутри него многоугольник с помощью бинаризации.
3. Находим маску предметов (вычтя фон и применив фильтр гаусса, используем бинаризацию). Находим компоненты связности предметов с помощью сортировки по площадям компонент связности
4. Для каждой такой компоненты связности находим ее ограничивающую рамку (bbox из regionprops)
5. Далее задача сводится к задаче упаковки прямоугольников в многоугольник. Будем использовать жадный алгоритм - возьмем прямоугольник с самой большой площадью и поместим его внутрь многоугольника. Проверяем, поместился ли он внутрь. Если поместился, повторяем эти действия вновь.


# Данные
[Изображения объектов](pictures)
[Тесты](tests)
[Разметка тестов](tests/tests.csv)
[Описание тестов](tests/description.txt)
